var config={pageSize:16,pageIndex:1},postScripts={Init:function(){postScripts.loadData();postScripts.registerEvent()},registerEvent:function(){$(".btn-search").off("click").on("click",function(){postScripts.loadData(!0)});$("#txtSearch").keypress(function(n){n.keyCode===13&&postScripts.loadData(!0)});$("#txtSearch").on("click",function(){$("#txtSearch").val("")})},loadData:function(n){var t=$("#txtSearch").val();$.ajax({url:"/post/getall",type:"POST",data:{filter:t,page:config.pageIndex,pageSize:config.pageSize},dataType:"json",success:function(t){if(t.status){var r=t.data,i="",u=$("#data-template").html();$.each(r,function(n,t){var r="/khuyen-mai/"+t.metaName+"/"+t.id+"/";i+=Mustache.render(u,{url:r,name:t.name,thumbnailUrl:t.avatar,TimePost:t.timePost})});$("#data-render").html(i);t.total>config.pageSize?postScripts.paging(t.total,t.page,function(){postScripts.loadData()},n):$(".pagination").hide()}}})},paging:function(n,t,i){$("#pagination a").length===0&&($("#pagination").empty(),$("#pagination").removeData("pagination"),$("#pagination").unbind("page"));$("#pagination").pagination({items:n,itemsOnPage:config.pageSize,currentPage:t,hrefTextPrefix:"#trang-",prevText:"&lt",nextText:"&gt;",cssStyle:"light-theme",onPageClick:function(n){config.pageIndex=n;currentPage=n;setTimeout(i,0)}})}};postScripts.Init();